function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],a=!0,i=!1,c=void 0;try{for(var o,r=t[Symbol.iterator]();!(a=(o=r.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(s){i=!0,c=s}finally{try{a||null==r.return||r.return()}finally{if(i)throw c}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"7vJP":function(t,e,n){"use strict";n.r(e);var a,i,c,o=n("ofXK"),r=n("3Pt+"),s=n("tyNb"),u=n("fXoL"),l=n("Wdmj"),b=((a=function(){function t(e){_classCallCheck(this,t),this.gaService=e}return _createClass(t,[{key:"ngOnInit",value:function(){this.gaService.pageView("","Video Window")}}]),t}()).\u0275fac=function(t){return new(t||a)(u.Qb(l.a))},a.\u0275cmp=u.Kb({type:a,selectors:[["app-video"]],decls:3,vars:0,consts:[[1,"video-container-div"],["src","https://www.youtube.com/embed/Ev2KTEeWNgY?autoplay=1&fs=1&iv_load_policy=3&showinfo=0&rel=0&cc_load_policy=0&start=0&end=0","frameborder","0","allow","accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture","allowfullscreen",""]],template:function(t,e){1&t&&(u.Wb(0,"div",0),u.Wb(1,"div"),u.Rb(2,"iframe",1),u.Vb(),u.Vb())},styles:[".video-container-div[_ngcontent-%COMP%]{width:65vw}.video-container-div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:56.25% 0 0;position:relative}.video-container-div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}"]}),a),p=n("sYmb"),d=n("aceb"),h=n("2Vo4"),m=n("lJxs"),f=n("AytR"),g=n("tk/3"),v=((i=function(){function t(e,n){var a=this;_classCallCheck(this,t),this.http=e,this.translate=n,this.baseUrl=f.a.apiUrl,this.cucus$=new h.a([]),this.pastCucus$=new h.a([]),this.fetchCucus(n.currentLang),this.translate.onLangChange.subscribe((function(t){return a.fetchCucus(t)}))}return _createClass(t,[{key:"fetchCucus",value:function(t){var e=this,n=new Date;n.setMinutes(n.getMinutes()-90);var a=new Date;a.setMinutes(a.getMinutes()-1440),this.http.get("".concat(this.baseUrl,"/cucus/after/").concat(a.toUTCString())).subscribe((function(t){var a=t.filter((function(t){return new Date(t.startDate)<n})).sort((function(t,e){return t.startDate>e.startDate?-1:t.startDate<e.startDate?1:0})),i=t.filter((function(t){return new Date(t.startDate)>=n}));e.pastCucus$.next(a),e.cucus$.next(i)}))}},{key:"createCucu",value:function(t){var e=this;return this.http.post("".concat(this.baseUrl,"/cucus"),t).pipe(Object(m.a)((function(t){return e.fetchCucus(e.translate.currentLang),t})))}},{key:"uploadAvatar",value:function(t){var e=new FormData;return e.append("file",t),this.http.post("".concat(this.baseUrl,"/images"),e)}},{key:"getImageBaseUrl",value:function(){return"".concat(this.baseUrl,"/images")}},{key:"cucus",get:function(){return this.cucus$}},{key:"pastCucus",get:function(){return this.pastCucus$}}]),t}()).\u0275fac=function(t){return new(t||i)(u.ac(g.a),u.ac(p.d))},i.\u0275prov=u.Mb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),C=n("mBxH"),y=n("mrSG"),E=n("LRne"),w=function(t){var e=[],n=(new Date).getHours(),a=(new Date).getMinutes()>30?1:0;"today"!==t&&(n=0,a=0);for(var i=n+a;i<24;i++){var c=Math.floor(i)+":";i===n+a&&0!==i||e.push(c+"00"),e.push(c+"30")}return e},S=n("+EEi"),W=function(t){return!t||!t.value||t.value.includes("hangouts.google.com")||t.value.includes("join.skype.com")||t.value.includes("meet.jit.si")||t.value.includes("zoom.us")?null:{validInviteUrl:!1}},O=((c=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){return t.valid||!t.dirty?"basic":"danger"}}]),t}()).\u0275fac=function(t){return new(t||c)},c.\u0275pipe=u.Pb({name:"elementStatus",type:c,pure:!0}),c),_=["inviteUrlInputElement"],k=["timeInputElement"];function T(t,e){1&t&&(u.Wb(0,"nb-card",28),u.Wb(1,"nb-card-body"),u.Wb(2,"b"),u.Wb(3,"a",29),u.Ac(4,"Hangouts"),u.Vb(),u.Vb(),u.Ac(5),u.hc(6,"translate"),u.Rb(7,"br"),u.Wb(8,"b"),u.Wb(9,"a",30),u.Ac(10,"Skype"),u.Vb(),u.Vb(),u.Ac(11),u.hc(12,"translate"),u.Rb(13,"br"),u.Wb(14,"b"),u.Wb(15,"a",31),u.Ac(16,"Jitsi Meet"),u.Vb(),u.Vb(),u.Ac(17),u.hc(18,"translate"),u.Rb(19,"br"),u.Wb(20,"b"),u.Wb(21,"a",32),u.Ac(22,"Zoom"),u.Vb(),u.Vb(),u.Ac(23),u.hc(24,"translate"),u.hc(25,"translate"),u.Rb(26,"br"),u.Vb(),u.Vb()),2&t&&(u.Eb(5),u.Cc(": 10 ",u.ic(6,5,"postCucu.inviteUrl.PARTICIPANTS"),""),u.Eb(6),u.Cc(": 50 ",u.ic(12,7,"postCucu.inviteUrl.PARTICIPANTS"),""),u.Eb(6),u.Cc(": 25 ",u.ic(18,9,"postCucu.inviteUrl.PARTICIPANTS"),""),u.Eb(6),u.Dc(": 100 ",u.ic(24,11,"postCucu.inviteUrl.PARTICIPANTS"),", max. 40 ",u.ic(25,13,"postCucu.inviteUrl.MINUTES")," "))}function V(t,e){if(1&t&&(u.Wb(0,"nb-option",16),u.Ac(1),u.Vb()),2&t){var n=e.$implicit;u.mc("value",n.short),u.Eb(1),u.Bc(n.name)}}function P(t,e){if(1&t&&(u.Wb(0,"nb-option",16),u.Ac(1),u.Vb()),2&t){var n=e.$implicit;u.mc("value",n),u.Eb(1),u.Cc(" ",n," ")}}var I,x=((I=function(){function t(e,n,a,i,c){_classCallCheck(this,t),this.formBuilder=e,this.translate=n,this.dbService=a,this.toastrService=i,this.gaService=c,this.componentSize="medium",this.componentShape="rectangle",this.showCallProvidersInfoBox=!0,this.languages=Object(S.a)(),this.timeSlots=[],this.avatarUploadLabel=""}return _createClass(t,[{key:"ngOnInit",value:function(){this.initForm()}},{key:"postCucu",value:function(){var t=this;if(this.form.valid){var e=this.form.getRawValue(),n=new Date;"tomorrow"===e.day&&(n=function(t){var e=new Date(t);return e.setDate(e.getDate()+1),e}(n));var a=e.time.split(":")[0],i=e.time.split(":")[1];n.setHours(a),n.setMinutes(i),n.setSeconds(0),this.avatarId||(this.avatarId=""),this.dbService.createCucu({inviteUrl:e.inviteUrl,topic:e.topic,startDate:n,userName:e.userName,avatarId:this.avatarId,language:e.language}).subscribe((function(e){return Object(y.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.topic){t.next=8;break}return this.avatarUploadLabel="",this.initForm(),t.next=5,this.showToast("success");case 5:this.gaService.event("post_success","post_cucu"),t.next=9;break;case 8:console.error(e);case 9:this.inviteUrlInputElement.nativeElement.focus();case 10:case"end":return t.stop()}}),t,this)})))}),(function(e){return Object(y.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.error(e),t.next=3,this.showToast("danger");case 3:this.gaService.event("post_failed","post_cucu");case 4:case"end":return t.stop()}}),t,this)})))}))}else console.error("Form invalid"),console.log(this.form.getRawValue())}},{key:"onAvatarFileChanged",value:function(t){var e=this;this.avatarUploadLabel="";var n=t.target.files[0];n&&n.name&&(this.avatarUploadLabel=n.name,this.dbService.uploadAvatar(n).subscribe((function(t){return Object(y.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.id&&(this.avatarId=t.id,this.gaService.event("image_upload_success","post_cucu"));case 1:case"end":return e.stop()}}),e,this)})))}),(function(t){return Object(y.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(413!==t.status){e.next=16;break}return e.next=3,this.translate.get("postCucu.errors.fileTooLarge.TITLE").toPromise();case 3:return this.avatarUploadLabel=e.sent,e.t0=this.toastrService,e.next=7,this.translate.get("postCucu.errors.fileTooLarge.TEXT").toPromise();case 7:return e.t1=e.sent,e.next=10,this.translate.get("postCucu.CUCU_ERROR").toPromise();case 10:e.t2=e.sent,e.t3={status:"warning"},e.t0.show.call(e.t0,e.t1,e.t2,e.t3),this.gaService.event("image_too_large","post_cucu"),e.next=29;break;case 16:return e.next=18,this.translate.get("postCucu.errors.unknown.TITLE").toPromise();case 18:return this.avatarUploadLabel=e.sent,e.t4=this.toastrService,e.next=22,this.translate.get("postCucu.errors.unknown.TEXT").toPromise();case 22:return e.t5=e.sent,e.next=25,this.translate.get("postCucu.CUCU_ERROR").toPromise();case 25:e.t6=e.sent,e.t7={status:"warning"},e.t4.show.call(e.t4,e.t5,e.t6,e.t7),this.gaService.event("image_upload_failed","post_cucu");case 29:case"end":return e.stop()}}),e,this)})))})))}},{key:"initForm",value:function(){var t=this;new Date;var e=(new Date).getHours(),n=e>18?"tomorrow":"today",a=e>18||e<8?"10:00":"".concat(e+2,":00");this.timeSlots=w(n),this.form=this.formBuilder.group({inviteUrl:["",[r.m.required,W]],topic:["",r.m.required],userName:["",r.m.required],language:[this.translate.currentLang,r.m.required],day:[n,r.m.required],time:[a,[r.m.required,r.m.pattern("[0-9]?[0-9]:[0-9][0-9]")]]}),this.filteredTimeOptions$=Object(E.a)(this.timeSlots),this.filteredTimeOptions$=this.time.valueChanges.pipe(Object(m.a)((function(e){return t.filterTimeslots(e)}))),this.day.valueChanges.subscribe((function(n){t.timeSlots=w(n),t.time.setValue("tomorrow"===n?"10:00":"".concat(e+2,":00"))})),setTimeout((function(){t.inviteUrlInputElement.nativeElement.focus()}),1)}},{key:"filterTimeslots",value:function(t){if(t){var e=t.toLowerCase();return this.timeSlots.filter((function(t){return t.toLowerCase().includes(e)}))}}},{key:"showToast",value:function(t){return Object(y.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("success"!==t){e.next=6;break}return e.next=3,this.translate.get("SUCCESS").toPromise();case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,this.translate.get("ERROR").toPromise();case 8:e.t0=e.sent;case 9:if(n=e.t0,"success"!==t){e.next=16;break}return e.next=13,this.translate.get("postCucu.CUCU_POSTED").toPromise();case 13:e.t1=e.sent,e.next=19;break;case 16:return e.next=18,this.translate.get("postCucu.CUCU_ERROR").toPromise();case 18:e.t1=e.sent;case 19:a=e.t1,this.toastrService.show(a,n,{status:t});case 21:case"end":return e.stop()}}),e,this)})))}},{key:"inviteUrl",get:function(){return this.form.get("inviteUrl")}},{key:"topic",get:function(){return this.form.get("topic")}},{key:"userName",get:function(){return this.form.get("userName")}},{key:"language",get:function(){return this.form.get("language")}},{key:"day",get:function(){return this.form.get("day")}},{key:"time",get:function(){return this.form.get("time")}}]),t}()).\u0275fac=function(t){return new(t||I)(u.Qb(r.b),u.Qb(p.d),u.Qb(v),u.Qb(d.I),u.Qb(l.a))},I.\u0275cmp=u.Kb({type:I,selectors:[["app-add-cucu"]],viewQuery:function(t,e){var n;1&t&&(u.Fc(_,!0),u.Fc(k,!0)),2&t&&(u.pc(n=u.fc())&&(e.inviteUrlInputElement=n.first),u.pc(n=u.fc())&&(e.timeInputElement=n.first))},decls:71,vars:88,consts:[["accent","primary"],[1,"example-items-col"],[3,"formGroup"],[1,"form-group"],["nbPrefix","","icon","link-outline","pack","eva"],["type","text","nbInput","","fullWidth","",3,"formControl","shape","placeholder","fieldSize","status"],["inviteUrlInputElement",""],["class","call-providers-info-box",4,"ngIf"],["nbPrefix","","icon","heart-outline","pack","eva"],["type","text","nbInput","","fullWidth","","id","topic",3,"formControl","shape","placeholder","fieldSize","status"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12"],["fullWidth","","nbTooltipStatus","basic",3,"formControl","placeholder","size","shape","nbTooltip"],[3,"value",4,"ngFor","ngForOf"],[1,"col-lg-7","col-md-12","col-sm-12"],["fullWidth","","nbTooltipStatus","basic",3,"formControl","placeholder","selected","shape","size","nbTooltip"],[3,"value"],[1,"col-lg-5","col-md-12","col-sm-12"],["nbPrefix","","icon","clock-outline","pack","eva"],["fullWidth","","nbInput","","type","text","nbTooltipStatus","basic",3,"formControl","placeholder","status","shape","nbAutocomplete","fieldSize","nbTooltip"],["timeAutocomplete",""],["nbPrefix","","icon","person-outline","pack","eva"],["type","text","nbInput","","fullWidth","",3,"formControl","shape","status","placeholder","fieldSize"],["nbButton","","status","primary","fullWidth","","nbTooltipStatus","basic",3,"shape","size","nbTooltip","click"],[1,"avatar-upload-p"],["type","file",2,"display","none",3,"accept","change"],["avatarInput",""],["nbButton","","hero","","status","primary","fullWidth","",3,"shape","size","click"],[1,"call-providers-info-box"],["href","https://hangouts.google.com","target","_blank"],["href","https://www.skype.com","target","_blank"],["href","https://meet.jit.si","target","_blank"],["href","https://zoom.us/signup","target","_blank"]],template:function(t,e){if(1&t){var n=u.Xb();u.Wb(0,"nb-card",0),u.Wb(1,"nb-card-body",1),u.Wb(2,"form",2),u.Wb(3,"div",3),u.Wb(4,"nb-form-field"),u.Rb(5,"nb-icon",4),u.Rb(6,"input",5,6),u.hc(8,"async"),u.hc(9,"elementStatus"),u.Vb(),u.Vb(),u.yc(10,T,27,15,"nb-card",7),u.Wb(11,"div",3),u.Wb(12,"nb-form-field"),u.Rb(13,"nb-icon",8),u.Rb(14,"input",9),u.hc(15,"async"),u.hc(16,"elementStatus"),u.Vb(),u.Vb(),u.Wb(17,"div",10),u.Wb(18,"div",11),u.Wb(19,"div",3),u.Wb(20,"nb-select",12),u.hc(21,"async"),u.hc(22,"async"),u.yc(23,V,2,2,"nb-option",13),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(24,"div",10),u.Wb(25,"div",14),u.Wb(26,"div",3),u.Wb(27,"nb-form-field"),u.Wb(28,"nb-select",15),u.hc(29,"async"),u.hc(30,"async"),u.Wb(31,"nb-option",16),u.Ac(32),u.hc(33,"translate"),u.Vb(),u.Wb(34,"nb-option",16),u.Ac(35),u.hc(36,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(37,"div",17),u.Wb(38,"div",3),u.Wb(39,"nb-form-field"),u.Rb(40,"nb-icon",18),u.Rb(41,"input",19),u.hc(42,"async"),u.hc(43,"elementStatus"),u.hc(44,"async"),u.Wb(45,"nb-autocomplete",null,20),u.yc(47,P,2,2,"nb-option",13),u.hc(48,"async"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(49,"div",10),u.Wb(50,"div",14),u.Wb(51,"div",3),u.Wb(52,"nb-form-field"),u.Rb(53,"nb-icon",21),u.Rb(54,"input",22),u.hc(55,"elementStatus"),u.hc(56,"async"),u.Vb(),u.Vb(),u.Vb(),u.Wb(57,"div",17),u.Wb(58,"div",3),u.Wb(59,"button",23),u.ec("click",(function(){return u.sc(n),u.qc(66).click()})),u.hc(60,"async"),u.Ac(61),u.hc(62,"translate"),u.Vb(),u.Wb(63,"p",24),u.Ac(64),u.Vb(),u.Wb(65,"input",25,26),u.ec("change",(function(t){return e.onAvatarFileChanged(t)})),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(67,"div",3),u.Wb(68,"button",27),u.ec("click",(function(){return e.postCucu()})),u.Ac(69),u.hc(70,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()}if(2&t){var a=u.qc(46);u.Eb(2),u.mc("formGroup",e.form),u.Eb(4),u.mc("formControl",e.inviteUrl)("shape",e.componentShape)("placeholder",u.ic(8,50,e.translate.get("postCucu.inviteUrl.PLACEHOLDER")))("fieldSize",e.componentSize)("status",u.ic(9,52,e.inviteUrl)),u.Eb(4),u.mc("ngIf",e.showCallProvidersInfoBox),u.Eb(4),u.mc("formControl",e.topic)("shape",e.componentShape)("placeholder",u.ic(15,54,e.translate.get("postCucu.topic.PLACEHOLDER")))("fieldSize",e.componentSize)("status",u.ic(16,56,e.topic)),u.Eb(6),u.mc("formControl",e.language)("placeholder",u.ic(21,58,e.translate.get("postCucu.language.PLACEHOLDER")))("size",e.componentSize)("shape",e.componentShape)("nbTooltip",u.ic(22,60,e.translate.get("postCucu.language.TOOLTIP"))),u.Eb(3),u.mc("ngForOf",e.languages),u.Eb(5),u.mc("formControl",e.day)("placeholder",u.ic(29,62,e.translate.get("postCucu.day.PLACEHOLDER")))("selected","today")("shape",e.componentShape)("size",e.componentSize)("nbTooltip",u.ic(30,64,e.translate.get("postCucu.day.TOOLTIP"))),u.Eb(3),u.mc("value","today"),u.Eb(1),u.Bc(u.ic(33,66,"postCucu.TODAY")),u.Eb(2),u.mc("value","tomorrow"),u.Eb(1),u.Bc(u.ic(36,68,"postCucu.TOMORROW")),u.Eb(6),u.mc("formControl",e.time)("placeholder",u.ic(42,70,e.translate.get("postCucu.time.PLACEHOLDER")))("status",u.ic(43,72,e.time))("shape",e.componentShape)("nbAutocomplete",a)("fieldSize",e.componentSize)("nbTooltip",u.ic(44,74,e.translate.get("postCucu.time.TOOLTIP"))),u.Eb(6),u.mc("ngForOf",u.ic(48,76,e.filteredTimeOptions$)),u.Eb(7),u.mc("formControl",e.userName)("shape",e.componentShape)("status",u.ic(55,78,e.userName))("placeholder",u.ic(56,80,e.translate.get("postCucu.userName.PLACEHOLDER")))("fieldSize",e.componentSize),u.Eb(5),u.mc("shape",e.componentShape)("size",e.componentSize)("nbTooltip",u.ic(60,82,e.translate.get("postCucu.uploadImage.TOOLTIP"))),u.Eb(2),u.Cc(" ",u.ic(62,84,"postCucu.uploadImage.LABEL")," "),u.Eb(3),u.Bc(e.avatarUploadLabel),u.Eb(1),u.mc("accept","image/x-png, image/jpeg"),u.Eb(3),u.mc("shape","rectangle")("size","large"),u.Eb(1),u.Cc(" ",u.ic(70,86,"postCucu.post.LABEL")," ")}},directives:[d.g,d.f,r.n,r.i,r.d,d.n,d.p,d.C,d.s,r.a,r.h,r.c,o.m,d.D,d.J,o.l,d.B,d.b,d.a,d.d],pipes:[o.b,O,p.c],styles:[".call-providers-info-box[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.avatar-upload-p[_ngcontent-%COMP%]{font-size:12px!important;margin-top:5px}"]}),I),A=n("itXk");function R(t,e){if(1&t){var n=u.Xb();u.Wb(0,"button",6),u.ec("click",(function(){return u.sc(n),u.gc(2).toCall()})),u.Ac(1),u.hc(2,"translate"),u.Vb()}2&t&&(u.mc("status","primary")("shape","rectangle")("nbTooltip","Entra"),u.Eb(1),u.Cc(" ",u.ic(2,4,"cucuBox.join.LABEL")," "))}function L(t,e){if(1&t&&(u.Wb(0,"button",7),u.Ac(1),u.hc(2,"translate"),u.Vb()),2&t){var n=u.gc(2);u.mc("shape","rectangle")("nbTooltip",n.comebackLaterText),u.Eb(1),u.Cc(" ",u.ic(2,3,"cucuBox.join.LABEL")," ")}}function U(t,e){if(1&t&&(u.Wb(0,"nb-card",2),u.Wb(1,"nb-card-header"),u.Rb(2,"nb-user",3),u.Vb(),u.Wb(3,"nb-card-body"),u.Ac(4),u.Vb(),u.Wb(5,"nb-card-footer"),u.yc(6,R,3,6,"button",4),u.yc(7,L,3,5,"button",5),u.Vb(),u.Vb()),2&t){var n=u.gc();u.Eb(2),u.mc("picture",n.imageUrl)("name",null==n.cucu?null:n.cucu.userName)("title",n.timeLabel)("badgeText",null==n.cucu?null:n.cucu.language)("badgeStatus","primary")("badgePosition","bottom right"),u.Eb(2),u.Cc(" ",null==n.cucu?null:n.cucu.topic," "),u.Eb(2),u.mc("ngIf",n.isEnabled()),u.Eb(1),u.mc("ngIf",!n.isEnabled())}}function M(t,e){if(1&t&&(u.Wb(0,"nb-card"),u.Wb(1,"nb-card-header"),u.Rb(2,"nb-user",3),u.Vb(),u.Wb(3,"nb-card-body"),u.Ac(4),u.Vb(),u.Wb(5,"nb-card-footer"),u.Wb(6,"button",8),u.Ac(7),u.hc(8,"translate"),u.Vb(),u.Vb(),u.Vb()),2&t){var n=u.gc();u.Eb(2),u.mc("picture",n.imageUrl)("name",null==n.cucu?null:n.cucu.userName)("title",n.timeLabel)("badgeText",null==n.cucu?null:n.cucu.language)("badgeStatus","basic")("badgePosition","bottom right"),u.Eb(2),u.Cc(" ",n.cucu.topic," "),u.Eb(2),u.mc("disabled",!0)("shape","rectangle"),u.Eb(1),u.Cc(" ",u.ic(8,10,"cucuBox.join.ENDED")," ")}}var D,B=((D=function(){function t(e,n,a){_classCallCheck(this,t),this.dbService=e,this.translate=n,this.gaService=a,this.isPast=!1}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(y.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.cucu.avatarId&&this.cucu.avatarId.length>0&&(this.imageUrl="".concat(this.dbService.getImageBaseUrl(),"/").concat(this.cucu.avatarId)),e=new Date(this.cucu.startDate),n=e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),this.isPast?(this.timeLabel="".concat(e.toLocaleDateString(),", ").concat(n),this.buttonLabel="Concluso"):Object(A.a)([this.translate.get("postCucu.TODAY"),this.translate.get("postCucu.TOMORROW"),this.translate.get("cucuBox.join.AT"),this.translate.get("cucuBox.join.LABEL"),this.translate.get("cucuBox.join.TOOLTIP_COME_BACK_LATER")]).subscribe((function(t){var i=_slicedToArray(t,5),c=i[0],o=i[1],r=i[2],s=i[3],u=i[4],l=function(t){var e=new Date;return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}(e)?c:o;a.buttonLabel=s,a.timeLabel="".concat(l," ").concat(r," ").concat(n),a.comebackLaterText="".concat(u," ").concat(l.toLowerCase()," ").concat(r," ").concat(n)}));case 3:case"end":return t.stop()}}),t,this)})))}},{key:"isEnabled",value:function(){var t=new Date,e=new Date(this.cucu.startDate);e.setMinutes(e.getMinutes()-5);var n=new Date(this.cucu.startDate);return n.setMinutes(n.getMinutes()+90),t.toISOString()>e.toISOString()&&t.toISOString()<n.toISOString()}},{key:"toCall",value:function(){this.isEnabled()&&(this.gaService.event("to_call","cucu_box"),window.open(this.cucu.inviteUrl))}}]),t}()).\u0275fac=function(t){return new(t||D)(u.Qb(v),u.Qb(p.d),u.Qb(l.a))},D.\u0275cmp=u.Kb({type:D,selectors:[["app-cucu-box"]],inputs:{cucu:"cucu",isPast:"isPast"},decls:2,vars:2,consts:[["accent","primary",4,"ngIf"],[4,"ngIf"],["accent","primary"],["size","giant",3,"picture","name","title","badgeText","badgeStatus","badgePosition"],["nbButton","","nbTooltipStatus","basic",3,"status","shape","nbTooltip","click",4,"ngIf"],["nbButton","","nbTooltipStatus","basic",3,"shape","nbTooltip",4,"ngIf"],["nbButton","","nbTooltipStatus","basic",3,"status","shape","nbTooltip","click"],["nbButton","","nbTooltipStatus","basic",3,"shape","nbTooltip"],["nbButton","",3,"disabled","shape"]],template:function(t,e){1&t&&(u.yc(0,U,8,9,"nb-card",0),u.yc(1,M,9,12,"nb-card",1)),2&t&&(u.mc("ngIf",!e.isPast),u.Eb(1),u.mc("ngIf",e.isPast))},directives:[o.m,d.g,d.i,d.L,d.f,d.h,d.d,d.J],pipes:[p.c],styles:[""]}),D);function z(t,e){1&t&&(u.Wb(0,"p"),u.Ac(1),u.hc(2,"translate"),u.Vb()),2&t&&(u.Eb(1),u.Bc(u.ic(2,1,"home.NO_CUCUS_FOUND")))}function j(t,e){if(1&t&&(u.Wb(0,"div",20),u.Rb(1,"app-cucu-box",21),u.Vb()),2&t){var n=e.$implicit;u.Eb(1),u.mc("cucu",n)}}function F(t,e){if(1&t&&(u.Wb(0,"div",9),u.Wb(1,"div",16),u.Wb(2,"div",17),u.yc(3,z,3,3,"p",18),u.Vb(),u.Vb(),u.yc(4,j,2,1,"div",19),u.Vb()),2&t){var n=e.ngIf,a=u.gc();u.Eb(3),u.mc("ngIf",n.length<1),u.Eb(1),u.mc("ngForOf",n)("ngForTrackBy",a.trackByFn)}}function N(t,e){if(1&t&&(u.Wb(0,"div",20),u.Rb(1,"app-cucu-box",22),u.Vb()),2&t){var n=e.$implicit;u.Eb(1),u.mc("cucu",n)("isPast",!0)}}function H(t,e){if(1&t&&(u.Wb(0,"div",9),u.yc(1,N,2,2,"div",19),u.Vb()),2&t){var n=e.ngIf,a=u.gc();u.Eb(1),u.mc("ngForOf",n)("ngForTrackBy",a.trackByFn)}}function Q(t,e){if(1&t){var n=u.Xb();u.Wb(0,"button",23),u.ec("click",(function(){return u.sc(n),u.gc().loadMore()})),u.Ac(1),u.hc(2,"translate"),u.Vb()}2&t&&(u.mc("shape","rectangle")("size","medium"),u.Eb(1),u.Cc(" ",u.ic(2,3,"home.LOAD_MORE")," "))}var $,X=(($=function(){function t(e,n,a,i,c){_classCallCheck(this,t),this.translate=e,this.windowService=n,this.dbService=a,this.gaService=i,this.donationsService=c,this.doWeHaveMore=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.gaService.pageView("","Home")}},{key:"loadMore",value:function(){}},{key:"openVideoWindow",value:function(){this.windowService.open(b,{title:""}),this.gaService.event("open_video","home")}},{key:"trackByFn",value:function(t,e){return e._id}}]),t}()).\u0275fac=function(t){return new(t||$)(u.Qb(p.d),u.Qb(d.O),u.Qb(v),u.Qb(l.a),u.Qb(C.a))},$.\u0275cmp=u.Kb({type:$,selectors:[["app-home"]],decls:39,vars:22,consts:[[1,"row","hero-row"],[1,"col-lg-7","col-md-6"],[1,"hero-section"],[1,"vdo-section"],[3,"click"],["src","./assets/images/video-icon.svg","alt","Play button"],[1,"col-lg-5","col-md-6"],[1,"ws-s"],["accent","success",1,"donate-card"],[1,"row"],[1,"col-md-12","center-h"],["nbButton","","status","success",3,"click"],["class","row",4,"ngIf"],[1,"col-md-12","load-more-div"],["nbButton","","status","primary",3,"shape","size","click",4,"ngIf"],[1,"ws-m"],[1,"col-md-12"],[1,"no-cucus-div"],[4,"ngIf"],["class","col-md-4",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-md-4"],[3,"cucu"],[3,"cucu","isPast"],["nbButton","","status","primary",3,"shape","size","click"]],template:function(t,e){1&t&&(u.Wb(0,"div",0),u.Wb(1,"div",1),u.Wb(2,"div",2),u.Wb(3,"h1"),u.Ac(4),u.hc(5,"translate"),u.Vb(),u.Wb(6,"p"),u.Ac(7),u.hc(8,"translate"),u.Vb(),u.Wb(9,"div",3),u.Wb(10,"a",4),u.ec("click",(function(){return e.openVideoWindow()})),u.Rb(11,"img",5),u.Vb(),u.Wb(12,"a",4),u.ec("click",(function(){return e.openVideoWindow()})),u.Ac(13),u.hc(14,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(15,"div",6),u.Rb(16,"app-add-cucu"),u.Vb(),u.Vb(),u.Rb(17,"div",7),u.Wb(18,"nb-card",8),u.Wb(19,"nb-card-body"),u.Wb(20,"div",9),u.Wb(21,"div",10),u.Wb(22,"p"),u.Ac(23),u.hc(24,"translate"),u.Vb(),u.Wb(25,"button",11),u.ec("click",(function(){return e.donationsService.toDonationSite()})),u.Ac(26),u.hc(27,"translate"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Rb(28,"div",7),u.yc(29,F,5,3,"div",12),u.hc(30,"async"),u.Rb(31,"div",7),u.yc(32,H,2,2,"div",12),u.hc(33,"async"),u.Rb(34,"div",7),u.Wb(35,"div",9),u.Wb(36,"div",13),u.yc(37,Q,3,5,"button",14),u.Vb(),u.Vb(),u.Rb(38,"div",15)),2&t&&(u.Eb(4),u.Cc(" ",u.ic(5,8,"home.HERO_HEADER"),""),u.Eb(3),u.Bc(u.ic(8,10,"home.HERO_TEXT")),u.Eb(6),u.Bc(u.ic(14,12,"home.DISCOVER_CUCUIT")),u.Eb(10),u.Bc(u.ic(24,14,"home.DONATE_BOX_TEXT")),u.Eb(3),u.Cc(" ",u.ic(27,16,"navbar.DONATE")," "),u.Eb(3),u.mc("ngIf",u.ic(30,18,e.dbService.cucus)),u.Eb(3),u.mc("ngIf",u.ic(33,20,e.dbService.pastCucus)),u.Eb(5),u.mc("ngIf",e.doWeHaveMore))},directives:[x,d.g,d.f,d.d,o.m,o.l,B],pipes:[p.c,o.b],styles:[".hero-section[_ngcontent-%COMP%]{margin:18% 15% 5% 10%}.hero-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:55px;line-height:1}.hero-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:20px 0}.no-cucus-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}@media (max-width:991px){.hero-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:50px}}@media (max-width:768px){.hero-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:35px}}.vdo-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer;width:80px;margin-left:-15px}.vdo-section[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:20px;font-size:14px;font-weight:500}.vdo-section[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}.load-more-div[_ngcontent-%COMP%]{text-align:center}"]}),$),q=n("yXpV"),J=n("NICT");n.d(e,"HomeModule",(function(){return G}));var K,Y=[{path:"",component:X}],G=((K=function t(){_classCallCheck(this,t)}).\u0275mod=u.Ob({type:K}),K.\u0275inj=u.Nb({factory:function(t){return new(t||K)},imports:[[o.c,r.e,p.b,s.g.forChild(Y),d.N.forChild(),q.a,J.a,d.e,d.j]]}),K)}}]);