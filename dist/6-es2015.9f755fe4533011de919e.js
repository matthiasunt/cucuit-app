(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"7vJP":function(t,e,i){"use strict";i.r(e);var n=i("ofXK"),o=i("3Pt+"),s=i("tyNb"),a=i("R0Ic"),r=i("fXoL"),c=i("sYmb"),l=i("tk/3"),u=i("2Vo4"),b=i("yCtX"),p=i("DH7j"),h=i("7o/Q"),m=i("l7GE"),d=i("ZUHj"),f=i("Lhse");class g{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new v(t,this.resultSelector))}}class v extends h.a{constructor(t,e,i=Object.create(null)){super(t),this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:null,this.values=i}_next(t){const e=this.iterators;Object(p.a)(t)?e.push(new W(t)):e.push("function"==typeof t[f.a]?new y(t[f.a]()):new V(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let i=0;i<e;i++){let e=t[i];e.stillUnsubscribed?this.destination.add(e.subscribe(e,i)):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,i=this.destination;for(let s=0;s<e;s++){let e=t[s];if("function"==typeof e.hasValue&&!e.hasValue())return}let n=!1;const o=[];for(let s=0;s<e;s++){let e=t[s],a=e.next();if(e.hasCompleted()&&(n=!0),a.done)return void i.complete();o.push(a.value)}this.resultSelector?this._tryresultSelector(o):i.next(o),n&&i.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}class y{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return t&&t.done}}class W{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[f.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class V extends m.a{constructor(t,e,i){super(t),this.parent=e,this.observable=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[f.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t,e,i,n,o){this.buffer.push(e),this.parent.checkIterators()}subscribe(t,e){return Object(d.a)(this,this.observable,this,e)}}var S=i("lJxs");let C=(()=>{class t{constructor(t){this.http=t,this.baseUrl="https://api.cucuit.com",this.cucus$=new u.a([]),this.prefetchData()}get cucus(){return this.cucus$}createCucu(t){return function(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(b.a)(t,void 0).lift(new g(e))}(this.http.post(`${this.baseUrl}/cucus`,t),this.cucus$).pipe(Object(S.a)(([t,e])=>(t&&t.topic&&this.cucus$.next([t].concat(e)),t)))}uploadAvatar(t){const e={headers:new l.c({})},i=new FormData;return i.append("file",t),this.http.post(`${this.baseUrl}/images`,i,e)}getImageBaseUrl(){return`${this.baseUrl}/images`}prefetchData(){this.http.get(`${this.baseUrl}/cucus`).subscribe(t=>{const e=t.sort((t,e)=>Date.parse(t.startDateString)-Date.parse(e.startDateString));this.cucus$.next(e.slice(0,15))})}getCucusByCoordsRange(t){}}return t.\u0275fac=function(e){return new(e||t)(r.ac(l.a))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var O=i("LRne"),w=i("JX91"),x=i("aceb");const z=["inviteUrlInput"];function I(t,e){if(1&t&&(r.Wb(0,"nb-option",22),r.Ac(1),r.Vb()),2&t){const t=e.$implicit;r.mc("value",t),r.Eb(1),r.Cc(" ",t," ")}}function E(t,e){if(1&t&&(r.Wb(0,"nb-option",22),r.Ac(1),r.Vb()),2&t){const t=e.$implicit;r.mc("value",t.short),r.Eb(1),r.Bc(t.name)}}function P(t,e){if(1&t&&(r.Wb(0,"nb-option",22),r.Ac(1),r.Vb()),2&t){const t=e.$implicit;r.mc("value",t),r.Eb(1),r.Cc(" ",t," ")}}let j=(()=>{class t{constructor(t,e,i){this.formBuilder=t,this.translate=e,this.dbService=i,this.componentSize="medium",this.componentShape="rectangle",this.languages=[{name:"Italiano \u{1f1ee}\u{1f1f9}",short:"it",emoji:"\u{1f1ee}\u{1f1f9}"},{name:"Espa\xf1ol \u{1f1ea}\u{1f1f8}",short:"es",emoji:"\u{1f1ea}\u{1f1f8}"},{name:"Deutsch \u{1f1e9}\u{1f1ea}",short:"de",emoji:"\u{1f1e9}\u{1f1ea}"},{name:"English \u{1f1ec}\u{1f1e7}",short:"en",emoji:"\u{1f1ec}\u{1f1e7}"}],this.participantsOptions=["10","20","50"],this.timeSlots=this.getTimeSlots(),this.avatarUploadLabel=""}ngOnInit(){(new Date).getHours(),this.form=this.formBuilder.group({inviteUrl:["",[o.m.required,U]],topic:["",o.m.required],userName:["",o.m.required],language:[this.translate.currentLang,o.m.required],participantsLimit:["",o.m.required],day:["Tomorrow",o.m.required],time:["",o.m.required]}),this.filteredTimeOptions$=Object(O.a)(this.timeSlots),this.filteredTimeOptions$=this.time.valueChanges.pipe(Object(w.a)(""),Object(S.a)(t=>this.filterTimeslots(t))),this.filteredParticipantsOptions$=Object(O.a)(this.participantsOptions),this.filteredParticipantsOptions$=this.participantsLimit.valueChanges.pipe(Object(w.a)(""),Object(S.a)(t=>this.filterParticipantsLimit(t)))}filterTimeslots(t){if(t){const e=t.toLowerCase();return this.timeSlots.filter(t=>t.toLowerCase().includes(e))}}filterParticipantsLimit(t){if(t){const e=t.toLowerCase();return this.participantsOptions.filter(t=>t.toLowerCase().includes(e))}}ngAfterViewInit(){}postCucu(){if(this.form.valid){const t=this.form.getRawValue();let e=new Date;"Tomorrow"===t.day&&(e=(t=>{const e=new Date(t);return e.setDate(e.getDate()+1),e})(e));const i=t.time.split(":")[0],n=t.time.split(":")[1];console.log(i,n),e.setHours(i),e.setMinutes(n),e.setSeconds(0),console.log(e),this.avatarId||(this.avatarId="");const o={inviteUrl:t.inviteUrl,topic:t.topic,startDateString:e.toUTCString(),userName:t.userName,avatarId:this.avatarId,language:t.language};this.dbService.createCucu(o).subscribe(t=>{t.topic?(this.avatarUploadLabel="",this.form.reset()):console.error(t)})}else console.error("Form invalid"),console.error(this.form),console.log(this.form.getRawValue())}onAvatarFileChanged(t){const e=t.target.files[0];e&&e.name&&(this.avatarUploadLabel=e.name,this.dbService.uploadAvatar(e).subscribe(t=>{t.id&&(this.avatarId=t.id)}))}showToast(t){}get inviteUrl(){return this.form.get("inviteUrl")}get topic(){return this.form.get("topic")}get userName(){return this.form.get("userName")}get participantsLimit(){return this.form.get("participantsLimit")}get language(){return this.form.get("language")}get day(){return this.form.get("day")}get time(){return this.form.get("time")}handleDateChange(t){console.log(t)}getTimeSlots(){const t=[];for(let e=0;e<48;e++){let i=Math.floor(e/2)+":";i+=e%2==0?"00":"30",t.push(i)}return t}elementStatus(t){return t.valid||!t.dirty?"":"danger"}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(o.b),r.Qb(c.c),r.Qb(C))},t.\u0275cmp=r.Kb({type:t,selectors:[["app-add-cucu"]],viewQuery:function(t,e){var i;1&t&&r.Ec(z,!0),2&t&&r.pc(i=r.fc())&&(e.inviteUrlInput=i.first)},decls:61,vars:47,consts:[[3,"size"],[1,"example-items-col"],[3,"formGroup"],[1,"form-group"],["nbPrefix","","icon","link-outline","pack","eva"],["type","text","nbInput","","fullWidth","","placeholder","Invite Link (Hangouts, Skype or Zoom)","nbTooltip","This is a tooltip","nbTooltipStatus","primary",3,"formControl","shape","fieldSize","status"],["inviteUrlInput",""],["nbPrefix","","icon","heart-outline","pack","eva"],["type","text","nbInput","","fullWidth","","placeholder","What's your Cucu about? Yoga, Reading, \u2026","id","topic",3,"formControl","shape","fieldSize","status"],[1,"row"],[1,"col-lg-6","col-md-12","col-sm-12"],["nbPrefix","","icon","people-outline","pack","eva"],["fullWidth","","nbInput","","type","text","placeholder","Enter participants limit",3,"formControl","status","shape","nbAutocomplete","fieldSize"],["participantsAutocomplete",""],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select Language","fullWidth","",3,"formControl","size","shape"],["nbPrefix","","icon","person-outline","pack","eva"],["type","text","nbInput","","fullWidth","","placeholder","Your Name",3,"formControl","shape","status","fieldSize"],["nbButton","","fullWidth","","status","primary",3,"shape","size","click"],["type","file",2,"display","none",3,"accept","change"],["avatarInput",""],["placeholder","Select Day","fullWidth","",3,"formControl","selected","shape","size"],[3,"value"],["nbPrefix","","icon","clock-outline","pack","eva"],["fullWidth","","nbInput","","type","text","placeholder","Enter time",3,"formControl","status","shape","nbAutocomplete","fieldSize"],["timeAutocomplete",""],["nbButton","","hero","","status","primary","fullWidth","",3,"type","shape","size","click"]],template:function(t,e){if(1&t){const t=r.Xb();r.Wb(0,"nb-card",0),r.Wb(1,"nb-card-body",1),r.Wb(2,"form",2),r.Wb(3,"div",3),r.Wb(4,"nb-form-field"),r.Rb(5,"nb-icon",4),r.Rb(6,"input",5,6),r.Vb(),r.Vb(),r.Wb(8,"div",3),r.Wb(9,"nb-form-field"),r.Rb(10,"nb-icon",7),r.Rb(11,"input",8),r.Vb(),r.Vb(),r.Wb(12,"div",9),r.Wb(13,"div",10),r.Wb(14,"div",3),r.Wb(15,"nb-form-field"),r.Rb(16,"nb-icon",11),r.Rb(17,"input",12),r.Wb(18,"nb-autocomplete",null,13),r.yc(20,I,2,2,"nb-option",14),r.hc(21,"async"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(22,"div",10),r.Wb(23,"div",3),r.Wb(24,"nb-select",15),r.yc(25,E,2,2,"nb-option",14),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(26,"div",9),r.Wb(27,"div",10),r.Wb(28,"div",3),r.Wb(29,"nb-form-field"),r.Rb(30,"nb-icon",16),r.Rb(31,"input",17),r.Vb(),r.Vb(),r.Vb(),r.Wb(32,"div",10),r.Wb(33,"div",3),r.Wb(34,"button",18),r.ec("click",(function(){return r.sc(t),r.qc(37).click()})),r.Ac(35," Upload Avatar "),r.Vb(),r.Wb(36,"input",19,20),r.ec("change",(function(t){return e.onAvatarFileChanged(t)})),r.Vb(),r.Wb(38,"p"),r.Ac(39),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(40,"div",9),r.Wb(41,"div",10),r.Wb(42,"div",3),r.Wb(43,"nb-form-field"),r.Wb(44,"nb-select",21),r.Wb(45,"nb-option",22),r.Ac(46,"Today"),r.Vb(),r.Wb(47,"nb-option",22),r.Ac(48,"Tomorrow"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(49,"div",10),r.Wb(50,"div",3),r.Wb(51,"nb-form-field"),r.Rb(52,"nb-icon",23),r.Rb(53,"input",24),r.Wb(54,"nb-autocomplete",null,25),r.yc(56,P,2,2,"nb-option",14),r.hc(57,"async"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(58,"div",3),r.Wb(59,"button",26),r.ec("click",(function(){return e.postCucu()})),r.Ac(60," Post "),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb()}if(2&t){const t=r.qc(19),i=r.qc(55);r.mc("size","medium"),r.Eb(2),r.mc("formGroup",e.form),r.Eb(4),r.mc("formControl",e.inviteUrl)("shape",e.componentShape)("fieldSize","large")("status",e.elementStatus(e.inviteUrl)),r.Eb(5),r.mc("formControl",e.topic)("shape",e.componentShape)("fieldSize",e.componentSize)("status",e.elementStatus(e.topic)),r.Eb(6),r.mc("formControl",e.participantsLimit)("status",e.elementStatus(e.participantsLimit))("shape",e.componentShape)("nbAutocomplete",t)("fieldSize",e.componentSize),r.Eb(3),r.mc("ngForOf",r.ic(21,43,e.filteredParticipantsOptions$)),r.Eb(4),r.mc("formControl",e.language)("size",e.componentSize)("shape",e.componentShape),r.Eb(1),r.mc("ngForOf",e.languages),r.Eb(6),r.mc("formControl",e.userName)("shape",e.componentShape)("status",e.elementStatus(e.userName))("fieldSize",e.componentSize),r.Eb(3),r.mc("shape",e.componentShape)("size",e.componentSize),r.Eb(2),r.mc("accept","image/x-png, image/jpeg"),r.Eb(3),r.Bc(e.avatarUploadLabel),r.Eb(5),r.mc("formControl",e.day)("selected","Today")("shape",e.componentShape)("size",e.componentSize),r.Eb(1),r.mc("value","Today"),r.Eb(2),r.mc("value","Tomorrow"),r.Eb(6),r.mc("formControl",e.time)("status",e.elementStatus(e.time))("shape",e.componentShape)("nbAutocomplete",i)("fieldSize",e.componentSize),r.Eb(3),r.mc("ngForOf",r.ic(57,45,e.filteredTimeOptions$)),r.Eb(3),r.mc("type","submit")("shape","rectangle")("size","large")}},directives:[x.g,x.f,o.n,o.i,o.d,x.l,x.n,x.y,x.q,o.a,x.E,o.h,o.c,x.b,x.a,n.l,x.z,x.d,x.x],pipes:[n.b],styles:[""]}),t})();function U(t){return!t||!t.value||t.value.includes("hangouts.google.com")||t.value.includes("join.skype.com")||t.value.includes("zoom.us")?null:{validInviteUrl:!1}}let A=(()=>{class t{constructor(t){this.dbService=t}ngOnInit(){this.cucu.avatarId&&this.cucu.avatarId.length>0&&(this.imageUrl=`${this.dbService.getImageBaseUrl()}/${this.cucu.avatarId}`);const t=new Date(Date.parse(this.cucu.startDateString));this.time=t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),this.day=(t=>{const e=new Date;return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()})(t)?"Today":"Tomorrow"}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(C))},t.\u0275cmp=r.Kb({type:t,selectors:[["app-cucu-box"]],inputs:{cucu:"cucu"},decls:8,vars:8,consts:[["size","giant",3,"picture","name","title","badgeText","badgeStatus","badgePosition"],["nbButton","","status","primary",3,"shape"]],template:function(t,e){1&t&&(r.Wb(0,"nb-card"),r.Wb(1,"nb-card-header"),r.Rb(2,"nb-user",0),r.Vb(),r.Wb(3,"nb-card-body"),r.Ac(4),r.Vb(),r.Wb(5,"nb-card-footer"),r.Wb(6,"button",1),r.Ac(7,"Join"),r.Vb(),r.Vb(),r.Vb()),2&t&&(r.Eb(2),r.mc("picture",e.imageUrl)("name",e.cucu.userName)("title",e.day+" at "+e.time)("badgeText",e.cucu.language)("badgeStatus","primary")("badgePosition","bottom right"),r.Eb(2),r.Cc(" ",e.cucu.topic," "),r.Eb(2),r.mc("shape","rectangle"))},directives:[x.g,x.i,x.G,x.f,x.h,x.d],styles:[""]}),t})();function R(t,e){1&t&&(r.Wb(0,"p"),r.Ac(1,"No Cucus found."),r.Vb())}function k(t,e){if(1&t&&(r.Wb(0,"div",13),r.Rb(1,"app-cucu-box",14),r.Vb()),2&t){const t=e.$implicit;r.Eb(1),r.mc("cucu",t)("@simpleFadeAnimation","in")}}function L(t,e){if(1&t){const t=r.Xb();r.Wb(0,"button",15),r.ec("click",(function(){return r.sc(t),r.gc().loadMore()})),r.Ac(1," Load more "),r.Vb()}2&t&&r.mc("shape","rectangle")("size","medium")}let M=(()=>{class t{constructor(t,e){this.translate=t,this.dbService=e,this.doWeHaveMore=!1}ngOnInit(){const t=this.translate.getBrowserLang();console.log(t)}loadMore(){}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(c.c),r.Qb(C))},t.\u0275cmp=r.Kb({type:t,selectors:[["app-home"]],decls:26,vars:7,consts:[[1,"row"],[1,"col-lg-7","col-md-6"],[1,"hero-section"],[1,"vdo-section"],["href","https://www.youtube.com/watch?v=p29dKpHnPjQ","target","_blank"],["src","./assets/images/video-icon.svg","alt","Play button"],[1,"col-lg-5","col-md-6"],[4,"ngIf"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"ws-s"],[1,"col-md-12","load-more-div"],["nbButton","","status","primary",3,"shape","size","click",4,"ngIf"],[1,"ws-m"],[1,"col-md-4"],[3,"cucu"],["nbButton","","status","primary",3,"shape","size","click"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Wb(1,"div",1),r.Wb(2,"div",2),r.Wb(3,"h1"),r.Ac(4,"Sconfiggi la noia con CUCUit!"),r.Vb(),r.Wb(5,"p"),r.Ac(6," Conosci persone sempre nuove e condividi idee sull\u2019argomento che preferisci. Chiuditi in casa. Apri la mente. Esci dagli schemi. "),r.Vb(),r.Wb(7,"div",3),r.Wb(8,"a",4),r.Rb(9,"img",5),r.Vb(),r.Wb(10,"span"),r.Wb(11,"a",4),r.Ac(12,"Watch our intro video"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(13,"div",6),r.Rb(14,"app-add-cucu"),r.Vb(),r.Vb(),r.Rb(15,"hr"),r.Wb(16,"div",0),r.yc(17,R,2,0,"p",7),r.hc(18,"async"),r.yc(19,k,2,2,"div",8),r.hc(20,"async"),r.Vb(),r.Rb(21,"div",9),r.Wb(22,"div",0),r.Wb(23,"div",10),r.yc(24,L,2,2,"button",11),r.Vb(),r.Vb(),r.Rb(25,"div",12)),2&t&&(r.Eb(17),r.mc("ngIf",r.ic(18,3,e.dbService.cucus).length<1),r.Eb(2),r.mc("ngForOf",r.ic(20,5,e.dbService.cucus)),r.Eb(5),r.mc("ngIf",e.doWeHaveMore))},directives:[j,n.m,n.l,A,x.d],pipes:[n.b],styles:[".hero-section[_ngcontent-%COMP%]{margin:5% 15% 5% 10%}.hero-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px;line-height:1}.hero-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:20px 0}@media (max-width:991px){.hero-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:50px}}.vdo-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer;width:80px}.vdo-section[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:20px;font-size:14px;font-weight:500}.vdo-section[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}.load-more-div[_ngcontent-%COMP%]{text-align:center}"],data:{animation:[Object(a.j)("simpleFadeAnimation",[Object(a.g)("in",Object(a.h)({opacity:1})),Object(a.i)(":enter",[Object(a.h)({opacity:0}),Object(a.e)(600)]),Object(a.i)(":leave",Object(a.e)(600,Object(a.h)({opacity:0})))])]}}),t})();var T=i("yXpV"),D=i("NICT");i.d(e,"HomeModule",(function(){return _}));const $=[{path:"",component:M}];let _=(()=>{class t{}return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)},imports:[[n.c,o.e,c.b,s.g.forChild($),T.a,D.a,x.e]]}),t})()}}]);