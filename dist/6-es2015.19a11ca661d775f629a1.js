(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"7vJP":function(t,e,n){"use strict";n.r(e);var i=n("ofXK"),o=n("3Pt+"),c=n("tyNb"),a=n("R0Ic"),s=n("fXoL"),r=n("sYmb"),l=n("2Vo4"),b=n("lJxs"),u=n("tk/3");let p=(()=>{class t{constructor(t,e){this.http=t,this.translate=e,this.baseUrl="https://api.cucuit.com",this.cucus$=new l.a([]),this.fetchCucus(e.currentLang),this.translate.onLangChange.subscribe(t=>this.fetchCucus(t))}get cucus(){return this.cucus$}fetchCucus(t){const e=new Date;e.setMinutes(e.getMinutes()-15),this.http.get(`${this.baseUrl}/cucus/after/${e.toUTCString()}`).subscribe(t=>{this.cucus$.next(t)})}createCucu(t){return this.http.post(`${this.baseUrl}/cucus`,t).pipe(Object(b.a)(t=>(this.fetchCucus(this.translate.currentLang),t)))}incrementClickCounter(t){return this.http.get(`${this.baseUrl}/cucus/${t}/click`)}uploadAvatar(t){const e=new FormData;return e.append("file",t),this.http.post(`${this.baseUrl}/images`,e)}getImageBaseUrl(){return`${this.baseUrl}/images`}}return t.\u0275fac=function(e){return new(e||t)(s.ac(u.a),s.ac(r.c))},t.\u0275prov=s.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var m=n("LRne"),d=n("JX91");const h=[{name:"Italiano \u{1f1ee}\u{1f1f9}",short:"it",emoji:"\u{1f1ee}\u{1f1f9}"},{name:"Espa\xf1ol \u{1f1ea}\u{1f1f8}",short:"es",emoji:"\u{1f1ea}\u{1f1f8}"},{name:"Deutsch \u{1f1e9}\u{1f1ea}",short:"de",emoji:"\u{1f1e9}\u{1f1ea}"},{name:"English \u{1f1ec}\u{1f1e7}",short:"en",emoji:"\u{1f1ec}\u{1f1e7}"}];var g=n("aceb");const f=["element"];function v(t,e){1&t&&(s.Wb(0,"nb-card",27),s.Wb(1,"nb-card-body"),s.Wb(2,"b"),s.Wb(3,"a",28),s.Ac(4,"Hangouts"),s.Vb(),s.Vb(),s.Ac(5,": 10 participants"),s.Rb(6,"br"),s.Wb(7,"b"),s.Wb(8,"a",29),s.Ac(9,"Skype"),s.Vb(),s.Vb(),s.Ac(10,": 50 participants"),s.Rb(11,"br"),s.Wb(12,"b"),s.Wb(13,"a",30),s.Ac(14,"Jitsi Meet"),s.Vb(),s.Vb(),s.Ac(15,": 25 participants"),s.Rb(16,"br"),s.Wb(17,"b"),s.Wb(18,"a",31),s.Ac(19,"Zoom"),s.Vb(),s.Vb(),s.Ac(20,": 100 participants, max. 40 minutes"),s.Rb(21,"br"),s.Vb(),s.Vb())}function W(t,e){if(1&t&&(s.Wb(0,"nb-option",15),s.Ac(1),s.Vb()),2&t){const t=e.$implicit;s.mc("value",t.short),s.Eb(1),s.Bc(t.name)}}function C(t,e){if(1&t&&(s.Wb(0,"nb-option",15),s.Ac(1),s.Vb()),2&t){const t=e.$implicit;s.mc("value",t),s.Eb(1),s.Cc(" ",t," ")}}let V=(()=>{class t{constructor(t,e,n,i){this.formBuilder=t,this.translate=e,this.dbService=n,this.toastrService=i,this.componentSize="medium",this.componentShape="rectangle",this.showCallProvidersInfoBox=!0,this.languages=h,this.timeSlots=[],this.avatarUploadLabel=""}ngOnInit(){const t=(new Date).getHours(),e=t>18?"Tomorrow":"Today",n=t>18?"10:00":`${t+2}:00`;this.timeSlots=this.getTimeSlots(e),this.form=this.formBuilder.group({inviteUrl:["",[o.m.required,S]],topic:["",o.m.required],userName:["",o.m.required],language:[this.translate.currentLang,o.m.required],day:[e,o.m.required],time:[n,o.m.required]}),this.filteredTimeOptions$=Object(m.a)(this.timeSlots),this.filteredTimeOptions$=this.time.valueChanges.pipe(Object(d.a)(""),Object(b.a)(t=>this.filterTimeslots(t))),this.day.valueChanges.subscribe(e=>{this.timeSlots=this.getTimeSlots(e),this.time.setValue("Tomorrow"===e?"10:00":`${t+2}:00`)})}filterTimeslots(t){if(t){const e=t.toLowerCase();return this.timeSlots.filter(t=>t.toLowerCase().includes(e))}}ngAfterViewInit(){setTimeout(()=>{this.element.nativeElement.blur(),this.time.markAsUntouched()},1)}postCucu(){if(this.form.valid){const t=this.form.getRawValue();let e=new Date;"Tomorrow"===t.day&&(e=(t=>{const e=new Date(t);return e.setDate(e.getDate()+1),e})(e),console.log(e));const n=t.time.split(":")[0],i=t.time.split(":")[1];e.setHours(n),e.setMinutes(i),e.setSeconds(0),console.log(e),this.avatarId||(this.avatarId=""),this.dbService.createCucu({inviteUrl:t.inviteUrl,topic:t.topic,startDate:e,userName:t.userName,avatarId:this.avatarId,language:t.language}).subscribe(t=>{t.topic?(this.avatarUploadLabel="",this.form.reset(),this.showToast("success")):(console.error(t),this.showToast("danger"))})}else console.error("Form invalid"),console.error(this.form),console.log(this.form.getRawValue())}onAvatarFileChanged(t){const e=t.target.files[0];e&&e.name&&(this.avatarUploadLabel=e.name,this.dbService.uploadAvatar(e).subscribe(t=>{t.id&&(this.avatarId=t.id)}))}showToast(t){this.toastrService.show("success"===t?"Cucu posted!":"Error. Please try again later","success"===t?"Success":"Error",{status:t})}get inviteUrl(){return this.form.get("inviteUrl")}get topic(){return this.form.get("topic")}get userName(){return this.form.get("userName")}get language(){return this.form.get("language")}get day(){return this.form.get("day")}get time(){return this.form.get("time")}handleDateChange(t){console.log(t)}getTimeSlots(t){const e=[];let n=(new Date).getHours(),i=(new Date).getMinutes()>30?1:0;"Today"!==t&&(n=0,i=0);for(let o=n+i;o<24;o++){const t=Math.floor(o)+":";e.push(t+"00",t+"30")}return e}elementStatus(t){return t.valid||!t.dirty?"":"danger"}}return t.\u0275fac=function(e){return new(e||t)(s.Qb(o.b),s.Qb(r.c),s.Qb(p),s.Qb(g.H))},t.\u0275cmp=s.Kb({type:t,selectors:[["app-add-cucu"]],viewQuery:function(t,e){var n;1&t&&s.Ec(f,!0),2&t&&s.pc(n=s.fc())&&(e.element=n.first)},decls:53,vars:39,consts:[["accent","primary"],[1,"example-items-col"],[3,"formGroup"],[1,"form-group"],["nbPrefix","","icon","link-outline","pack","eva"],["type","text","nbInput","","fullWidth","","placeholder","Invite Link (Hangouts, Skype or Zoom)",3,"formControl","shape","fieldSize","status"],["class","call-providers-info-box",4,"ngIf"],["nbPrefix","","icon","heart-outline","pack","eva"],["type","text","nbInput","","fullWidth","","placeholder","What's your Cucu about? Yoga, Reading, \u2026","id","topic",3,"formControl","shape","fieldSize","status"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12"],["placeholder","Select Language","fullWidth","","nbTooltip","What language will your CUCU be in?","nbTooltipStatus","basic",3,"formControl","size","shape"],[3,"value",4,"ngFor","ngForOf"],[1,"col-lg-7","col-md-12","col-sm-12"],["placeholder","Select Day","fullWidth","","nbTooltip","When is your CUCU taking place?","nbTooltipStatus","basic",3,"formControl","selected","shape","size"],[3,"value"],[1,"col-lg-5","col-md-12","col-sm-12"],["nbPrefix","","icon","clock-outline","pack","eva"],["fullWidth","","nbInput","","type","text","placeholder","Enter time","nbTooltip","At what time will your CUCU start?","nbTooltipStatus","basic",3,"formControl","status","shape","nbAutocomplete","fieldSize"],["element",""],["timeAutocomplete",""],["nbPrefix","","icon","person-outline","pack","eva"],["type","text","nbInput","","placeholder","Your Name","fullWidth","",3,"formControl","shape","status","fieldSize"],["nbButton","","status","primary","fullWidth","","nbTooltip","This pricture will show up next to your CUCU. (Max. 1MB)","nbTooltipStatus","basic",3,"shape","size","click"],["type","file",2,"display","none",3,"accept","change"],["avatarInput",""],["nbButton","","hero","","status","primary","fullWidth","",3,"type","shape","size","click"],[1,"call-providers-info-box"],["href","https://hangouts.google.com","target","_blank"],["href","https://www.skype.com","target","_blank"],["href","https://meet.jit.si","target","_blank"],["href","https://zoom.us/signup","target","_blank"]],template:function(t,e){if(1&t){const t=s.Xb();s.Wb(0,"nb-card",0),s.Wb(1,"nb-card-body",1),s.Wb(2,"form",2),s.Wb(3,"div",3),s.Wb(4,"nb-form-field"),s.Rb(5,"nb-icon",4),s.Rb(6,"input",5),s.Vb(),s.Vb(),s.yc(7,v,22,0,"nb-card",6),s.Wb(8,"div",3),s.Wb(9,"nb-form-field"),s.Rb(10,"nb-icon",7),s.Rb(11,"input",8),s.Vb(),s.Vb(),s.Wb(12,"div",9),s.Wb(13,"div",10),s.Wb(14,"div",3),s.Wb(15,"nb-select",11),s.yc(16,W,2,2,"nb-option",12),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(17,"div",9),s.Wb(18,"div",13),s.Wb(19,"div",3),s.Wb(20,"nb-form-field"),s.Wb(21,"nb-select",14),s.Wb(22,"nb-option",15),s.Ac(23,"Today"),s.Vb(),s.Wb(24,"nb-option",15),s.Ac(25,"Tomorrow"),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(26,"div",16),s.Wb(27,"div",3),s.Wb(28,"nb-form-field"),s.Rb(29,"nb-icon",17),s.Rb(30,"input",18,19),s.Wb(32,"nb-autocomplete",null,20),s.yc(34,C,2,2,"nb-option",12),s.hc(35,"async"),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(36,"div",9),s.Wb(37,"div",13),s.Wb(38,"div",3),s.Wb(39,"nb-form-field"),s.Rb(40,"nb-icon",21),s.Rb(41,"input",22),s.Vb(),s.Vb(),s.Vb(),s.Wb(42,"div",16),s.Wb(43,"div",3),s.Wb(44,"button",23),s.ec("click",(function(){return s.sc(t),s.qc(47).click()})),s.Ac(45," Upload Picture "),s.Vb(),s.Wb(46,"input",24,25),s.ec("change",(function(t){return e.onAvatarFileChanged(t)})),s.Vb(),s.Wb(48,"p"),s.Ac(49),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(50,"div",3),s.Wb(51,"button",26),s.ec("click",(function(){return e.postCucu()})),s.Ac(52," Post "),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb()}if(2&t){const t=s.qc(33);s.Eb(2),s.mc("formGroup",e.form),s.Eb(4),s.mc("formControl",e.inviteUrl)("shape",e.componentShape)("fieldSize",e.componentSize)("status",e.elementStatus(e.inviteUrl)),s.Eb(1),s.mc("ngIf",e.showCallProvidersInfoBox),s.Eb(4),s.mc("formControl",e.topic)("shape",e.componentShape)("fieldSize",e.componentSize)("status",e.elementStatus(e.topic)),s.Eb(4),s.mc("formControl",e.language)("size",e.componentSize)("shape",e.componentShape),s.Eb(1),s.mc("ngForOf",e.languages),s.Eb(5),s.mc("formControl",e.day)("selected","Today")("shape",e.componentShape)("size",e.componentSize),s.Eb(1),s.mc("value","Today"),s.Eb(2),s.mc("value","Tomorrow"),s.Eb(6),s.mc("formControl",e.time)("status",e.elementStatus(e.time))("shape",e.componentShape)("nbAutocomplete",t)("fieldSize",e.componentSize),s.Eb(4),s.mc("ngForOf",s.ic(35,37,e.filteredTimeOptions$)),s.Eb(7),s.mc("formControl",e.userName)("shape",e.componentShape)("status",e.elementStatus(e.userName))("fieldSize",e.componentSize),s.Eb(3),s.mc("shape",e.componentShape)("size",e.componentSize),s.Eb(2),s.mc("accept","image/x-png, image/jpeg"),s.Eb(3),s.Bc(e.avatarUploadLabel),s.Eb(2),s.mc("type","submit")("shape","rectangle")("size","large")}},directives:[g.g,g.f,o.n,o.i,o.d,g.m,g.o,g.B,g.r,o.a,o.h,o.c,i.m,g.C,g.I,i.l,g.A,g.b,g.a,g.d],pipes:[i.b],styles:[".call-providers-info-box[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),t})();function S(t){return!t||!t.value||t.value.includes("hangouts.google.com")||t.value.includes("join.skype.com")||t.value.includes("meet.jit.si")||t.value.includes("zoom.us")?null:{validInviteUrl:!1}}let y=(()=>{class t{constructor(t){this.dbService=t}ngOnInit(){this.cucu.avatarId&&this.cucu.avatarId.length>0&&(this.imageUrl=`${this.dbService.getImageBaseUrl()}/${this.cucu.avatarId}`);const t=new Date(this.cucu.startDate);this.time=t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),this.day=(t=>{const e=new Date;return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()})(t)?"Today":"Tomorrow"}getLangEmoji(t){return(t=>h.find(e=>e.short===t).emoji)(t)}isEnabled(){const t=new Date,e=new Date(this.cucu.startDate),n=new Date(this.cucu.startDate);return n.setMinutes(n.getMinutes()+15),e.toISOString()<t.toISOString()&&t.toISOString()<n.toISOString()}getStatus(){return this.isEnabled()?"primary":"disabled"}toCall(){this.isEnabled()&&window.open(this.cucu.inviteUrl)}}return t.\u0275fac=function(e){return new(e||t)(s.Qb(p))},t.\u0275cmp=s.Kb({type:t,selectors:[["app-cucu-box"]],inputs:{cucu:"cucu"},decls:8,vars:10,consts:[["size","giant",3,"picture","name","title","badgeText","badgeStatus","badgePosition"],["nbButton","",3,"disabled","status","shape","click"]],template:function(t,e){1&t&&(s.Wb(0,"nb-card"),s.Wb(1,"nb-card-header"),s.Rb(2,"nb-user",0),s.Vb(),s.Wb(3,"nb-card-body"),s.Ac(4),s.Vb(),s.Wb(5,"nb-card-footer"),s.Wb(6,"button",1),s.ec("click",(function(){return e.toCall()})),s.Ac(7," Join "),s.Vb(),s.Vb(),s.Vb()),2&t&&(s.Eb(2),s.mc("picture",e.imageUrl)("name",e.cucu.userName)("title",e.day+" at "+e.time)("badgeText",e.cucu.language)("badgeStatus","primary")("badgePosition","bottom right"),s.Eb(2),s.Cc(" ",e.cucu.topic," "),s.Eb(2),s.mc("disabled",!1)("status",e.getStatus())("shape","rectangle"))},directives:[g.g,g.i,g.K,g.f,g.h,g.d],styles:[""]}),t})();function w(t,e){1&t&&(s.Wb(0,"p"),s.Ac(1,"No Cucus found :("),s.Vb())}function O(t,e){if(1&t&&(s.Wb(0,"div",14),s.Rb(1,"app-cucu-box",15),s.Vb()),2&t){const t=e.$implicit;s.Eb(1),s.mc("cucu",t)("@simpleFadeAnimation","in")}}function I(t,e){if(1&t){const t=s.Xb();s.Wb(0,"button",16),s.ec("click",(function(){return s.sc(t),s.gc().loadMore()})),s.Ac(1," Load more "),s.Vb()}2&t&&s.mc("shape","rectangle")("size","medium")}let T=(()=>{class t{constructor(t,e){this.translate=t,this.dbService=e,this.doWeHaveMore=!1}ngOnInit(){}loadMore(){}}return t.\u0275fac=function(e){return new(e||t)(s.Qb(r.c),s.Qb(p))},t.\u0275cmp=s.Kb({type:t,selectors:[["app-home"]],decls:27,vars:7,consts:[[1,"row"],[1,"col-lg-7","col-md-6"],[1,"hero-section"],[1,"vdo-section"],["href","https://www.youtube.com/watch?v=p29dKpHnPjQ","target","_blank"],["src","./assets/images/video-icon.svg","alt","Play button"],[1,"col-lg-5","col-md-6"],[1,"no-cucus-div"],[4,"ngIf"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"ws-s"],[1,"col-md-12","load-more-div"],["nbButton","","status","primary",3,"shape","size","click",4,"ngIf"],[1,"ws-m"],[1,"col-md-4"],[3,"cucu"],["nbButton","","status","primary",3,"shape","size","click"]],template:function(t,e){1&t&&(s.Wb(0,"div",0),s.Wb(1,"div",1),s.Wb(2,"div",2),s.Wb(3,"h1"),s.Ac(4,"Sconfiggi la noia con CUCUit!"),s.Vb(),s.Wb(5,"p"),s.Ac(6," Conosci persone sempre nuove e condividi idee sull\u2019argomento che preferisci. Chiuditi in casa. Apri la mente. Esci dagli schemi. "),s.Vb(),s.Wb(7,"div",3),s.Wb(8,"a",4),s.Rb(9,"img",5),s.Vb(),s.Wb(10,"span"),s.Wb(11,"a",4),s.Ac(12,"Watch our intro video"),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(13,"div",6),s.Rb(14,"app-add-cucu"),s.Vb(),s.Vb(),s.Rb(15,"hr"),s.Wb(16,"div",0),s.Wb(17,"div",7),s.yc(18,w,2,0,"p",8),s.hc(19,"async"),s.Vb(),s.yc(20,O,2,2,"div",9),s.hc(21,"async"),s.Vb(),s.Rb(22,"div",10),s.Wb(23,"div",0),s.Wb(24,"div",11),s.yc(25,I,2,2,"button",12),s.Vb(),s.Vb(),s.Rb(26,"div",13)),2&t&&(s.Eb(18),s.mc("ngIf",s.ic(19,3,e.dbService.cucus).length<1),s.Eb(2),s.mc("ngForOf",s.ic(21,5,e.dbService.cucus)),s.Eb(5),s.mc("ngIf",e.doWeHaveMore))},directives:[V,i.m,i.l,y,g.d],pipes:[i.b],styles:[".hero-section[_ngcontent-%COMP%]{margin:18% 15% 5% 10%}.hero-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:55px;line-height:1}.hero-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:20px 0}.no-cucus-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;text-align:center}@media (max-width:991px){.hero-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:50px}}.vdo-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer;width:80px}.vdo-section[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:20px;font-size:14px;font-weight:500}.vdo-section[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}.load-more-div[_ngcontent-%COMP%]{text-align:center}"],data:{animation:[Object(a.j)("simpleFadeAnimation",[Object(a.g)("in",Object(a.h)({opacity:1})),Object(a.i)(":enter",[Object(a.h)({opacity:0}),Object(a.e)(600)]),Object(a.i)(":leave",Object(a.e)(600,Object(a.h)({opacity:0})))])]}}),t})();var E=n("yXpV"),M=n("NICT");n.d(e,"HomeModule",(function(){return U}));const A=[{path:"",component:T}];let U=(()=>{class t{}return t.\u0275mod=s.Ob({type:t}),t.\u0275inj=s.Nb({factory:function(e){return new(e||t)},imports:[[i.c,o.e,r.b,c.g.forChild(A),E.a,M.a,g.e]]}),t})()}}]);